(function(n,b){var g={then:function(a){return function(b){b.call(n,a);return g}}(g),catch:function(a){return function(b){b.call(n,a);return g}}(g),finally:function(a){return function(b){b.call(n,a);return g}}(g)},m={restrict:"AE",require:"^listRowGroup",templateUrl:function(a,b){return b.templateUrl||"list-group-item.html"},replace:!0,scope:{header:"@",text:"@",value:"@",source:"=",multiple:"=",selected:"&"},link:function(a,d,f,c){a.$selected=function(c){a.multiple?a.active[c]=!a.active[c]:(b.forEach(a.source,
function(c,b){a.active[b]=!1}),a.active[c]=!0);a.selected({item:a.source[c],index:c,active:a.active[c]})}}};b.module("listRowGroup",[]).directive("listRowGroup",function(){return{restrict:"AE",transclude:{source:"listGroupSource",extra:"formGroupExtra",target:"listGroupTarget"},templateUrl:function(a,b){return b.templateUrl||"list-row-group.html"},replace:!0,scope:{addItem:"&",dropItem:"&"},controller:["$scope",function(a){var d=this;b.forEach(["Source","Target"],function(f){d["set"+f]=function(c,
h){"object"===typeof c?b.forEach(c,function(a,c){d["set"+f](c,a)}):a["$"+f.toLowerCase()][c]=h}});b.forEach(["add","drop"],function(b){d[b+"Item"]=function(c){a["$"+b+"Item"](c)}});b.forEach(["Left","Right"],function(b){d["setDoubleAngle"+b]=function(c){a["showDoubleAngle"+b]=c}});a.$source={};a.$target={};a.$addItem=function(f){var c={},h=[];b.forEach(a.$target.data,function(b){c[b[a.$target.val]]=!0});b.forEach(a.$source.data,function(l,k){var e=l[a.$source.val],d=b.copy(l);a:{if("all"==f){if(!c[e]){k=
!0;break a}}else if(a.$source.act[k]&&!c[e]){k=!0;break a}k=void 0}k&&(a.$source.val!=a.$target.val&&(d[a.$target.val]=l[a.$source.val],delete d[a.$source.val]),a.$source.name!=a.$target.name&&(d[a.$target.name]=l[a.$source.name],delete d[a.$source.name]),h.push(d))});a.loading=!0;var e=a.addItem({items:h})||{};(e=e.then?e:b.extend({},g)).then(function(c){b.forEach(h,function(b){a.$target.data.push(b)})}).catch(function(a){}).finally(function(b){a.loading=!1})};a.$dropItem=function(d){var c=[],h=
[];b.forEach(a.$target.data,function(b,e){if("all"==d||a.$target.act[e])c.push(a.$target.data[e][a.$target.val]),h.unshift(e)});a.loading=!0;var e=a.dropItem({values:c})||{};(e=e.then?e:b.extend({},g)).then(function(c){b.forEach(h,function(b){a.$target.data.splice(b,1);a.$target.act[b]=!1})}).catch(function(a){}).finally(function(b){a.loading=!1})}}]}}).directive("listGroupSource",function(){return b.extend({},m,{link:function(a,d,f,c){c.setSource({act:a.active=[],val:a.value,name:a.name});c.setDoubleAngleRight(a.multiple);
a.$watch("source",function(){b.forEach(a.source,function(b,c){a.active[c]=!1});c.setSource("data",a.source)});a.$dblSelected=function(d){b.forEach(a.source,function(b,c){a.active[c]=!1});a.active[d]=!0;c.addItem()};m.link(a,d,f,c)}})}).directive("listGroupTarget",function(){return b.extend({},m,{link:function(a,d,f,c){c.setTarget({act:a.active=[],val:a.value,name:a.name});c.setDoubleAngleLeft(a.multiple);a.$watch("source",function(){c.setTarget("data",a.source)});a.$dblSelected=function(d){b.forEach(a.source,
function(b,c){a.active[c]=!1});a.active[d]=!0;c.dropItem()};m.link(a,d,f,c)}})}).run(["$templateCache",function(a){a.put("list-row-group.html",'<div class="list-row-group">\n  <div class="col-xs-5">\n      <div ng-transclude="source"></div>\n  </div>\n  <div class="col-xs-2">\n    <div ng-transclude="extra"></div>\n    <div class="form-group">\n      <div class="btn-group-vertical btn-block" role="group">\n        <button type="button" class="btn btn-primary" ng-if="showDoubleAngleRight" ng-click="$addItem(\'all\')" ng-disabled="loading"><i class="icon-double-angle-right"></i></button>\n        <button type="button" class="btn btn-info" ng-click="$addItem()" ng-disabled="loading"><i class="icon-angle-right"></i></button>\n        <button type="button" class="btn btn-info" ng-click="$dropItem()" ng-disabled="loading"><i class="icon-angle-left"></i></button>\n        <button type="button" class="btn btn-primary" ng-if="showDoubleAngleLeft" ng-click="$dropItem(\'all\')" ng-disabled="loading"><i class="icon-double-angle-left"></i></button>\n      </div>\n    </div>\n  </div>\n  <div class="col-xs-5">\n      <div ng-transclude="target"></div>\n  </div>\n</div>\n')}]).run(["$templateCache",
function(a){a.put("list-group-item.html",'    <div class="list-group-wrapper">\n      <div class="list-group-header">{{header}}</div>\n        <div class="list-group">\n          <a href="" class="list-group-item" ng-class="{\'list-group-item-warning\':active[$index]}" ng-click="$selected($index)" ng-Dblclick="$dblSelected($index)" ng-repeat="item in source">{{item[text]}}</a>\n      </div>\n    </div>\n')}])})(window,window.angular);