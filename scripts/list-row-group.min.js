(function(m,e){var f={then:function(a){return function(c){c.call(m,a);return f}}(f),catch:function(a){return function(c){c.call(m,a);return f}}(f),finally:function(a){return function(c){c.call(m,a);return f}}(f)},l={restrict:"AE",require:"^listRowGroup",templateUrl:function(a,c){return c.templateUrl||"list-group-item.html"},replace:!0,scope:{header:"@",source:"=",multiple:"=",selected:"&"},link:function(a,c,d,b){a.text=b.getText();a.$selected=function(b){a.multiple?a.active[b]=a.active[b]?!1:!0:(e.forEach(a.source,
function(b,c){a.active[c]=!1}),a.active[b]=!0);a.selected({item:a.source[b],index:b,active:a.active[b]})}}};e.module("listRowGroup",[]).directive("listRowGroup",function(){return{restrict:"AE",transclude:{source:"listGroupSource",extra:"formGroupExtra",target:"listGroupTarget"},templateUrl:function(a,c){return c.templateUrl||"list-row-group.html"},replace:!0,scope:{text:"@",value:"@",addItem:"&",dropItem:"&"},controller:["$scope",function(a){var c={},d={};this.getText=function(){return a.text};this.setSource=
function(a,e){c[a]=e};this.setTarget=function(a,c){d[a]=c};this.setDoubleAngle=function(b,c){a["showDoubleAngle"+b]=c};a.$addItem=function(b){var n={},k=[];e.forEach(d.data,function(b){n[b[a.value]]=!0});e.forEach(c.data,function(d,g){var f=d[a.value];d=e.copy(d);a:{if("all"==b){if(!n[f]){g=!0;break a}}else if(c.act[g]&&!n[f]){g=!0;break a}g=void 0}g&&k.push(d)});a.loading=!0;var h=a.addItem({items:k})||{};(h=h.then?h:e.extend({},f)).then(function(a){e.forEach(k,function(a){d.data.push(a)})}).catch(function(a){}).finally(function(b){a.loading=
!1})};a.$dropItem=function(b){var c=[],k=[];e.forEach(d.data,function(e,g){if("all"==b||d.act[g])c.push(d.data[g][a.value]),k.unshift(g)});a.loading=!0;var h=a.dropItem({values:c})||{};(h=h.then?h:e.extend({},f)).then(function(a){e.forEach(k,function(a){d.data.splice(a,1);d.act[a]=!1})}).catch(function(a){}).finally(function(b){a.loading=!1})}}]}}).directive("listGroupSource",function(){return e.extend({},l,{link:function(a,c,d,b){b.setSource("act",a.active=[]);b.setDoubleAngle("Right",a.multiple);
a.$watch("source",function(){e.forEach(a.source,function(b,c){a.active[c]=!1});b.setSource("data",a.source)});l.link(a,c,d,b)}})}).directive("listGroupTarget",function(){return e.extend({},l,{link:function(a,c,d,b){b.setTarget("act",a.active=[]);b.setDoubleAngle("Left",a.multiple);a.$watch("source",function(){b.setTarget("data",a.source)});l.link(a,c,d,b)}})}).run(["$templateCache",function(a){a.put("list-row-group.html",'<div class="list-row-group">\n  <div class="col-xs-5">\n      <div ng-transclude="source"></div>\n  </div>\n  <div class="col-xs-2">\n    <div ng-transclude="extra"></div>\n    <div class="form-group">\n      <div class="btn-group-vertical btn-block" role="group">\n        <button type="button" class="btn btn-primary" ng-if="showDoubleAngleRight" ng-click="$addItem(\'all\')" ng-disabled="loading"><i class="icon-double-angle-right"></i></button>\n        <button type="button" class="btn btn-info" ng-click="$addItem()" ng-disabled="loading"><i class="icon-angle-right"></i></button>\n        <button type="button" class="btn btn-info" ng-click="$dropItem()" ng-disabled="loading"><i class="icon-angle-left"></i></button>\n        <button type="button" class="btn btn-primary" ng-if="showDoubleAngleLeft" ng-click="$dropItem(\'all\')" ng-disabled="loading"><i class="icon-double-angle-left"></i></button>\n      </div>\n    </div>\n  </div>\n  <div class="col-xs-5">\n      <div ng-transclude="target"></div>\n  </div>\n</div>\n')}]).run(["$templateCache",
function(a){a.put("list-group-item.html",'    <div class="list-group-wrapper">\n      <div class="list-group-header">{{header}}</div>\n        <div class="list-group">\n          <a href="" class="list-group-item" ng-class="{\'list-group-item-warning\':active[$index]}" ng-click="$selected($index)" ng-repeat="item in source">{{item[text]}}</a>\n      </div>\n    </div>\n')}])})(window,window.angular);