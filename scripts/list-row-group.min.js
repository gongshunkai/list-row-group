(function(n,e){var g={then:function(a){return function(c){c.call(n,a);return g}}(g),catch:function(a){return function(c){c.call(n,a);return g}}(g),finally:function(a){return function(c){c.call(n,a);return g}}(g)},m={restrict:"AE",require:"^listRowGroup",templateUrl:function(a,c){return c.templateUrl||"list-group-item.html"},replace:!0,scope:{header:"@",source:"=",multiple:"=",selected:"&"},link:function(a,c,d,b){a.text=b.getText();a.$selected=function(b){a.multiple?a.active[b]=a.active[b]?!1:!0:(e.forEach(a.source,
function(b,c){a.active[c]=!1}),a.active[b]=!0);a.selected({item:a.source[b],index:b,active:a.active[b]})}}};e.module("listRowGroup",[]).directive("listRowGroup",function(){return{restrict:"AE",transclude:{source:"listGroupSource",extra:"formGroupExtra",target:"listGroupTarget"},templateUrl:function(a,c){return c.templateUrl||"list-row-group.html"},replace:!0,scope:{text:"@",value:"@",addItem:"&",dropItem:"&"},controller:["$scope",function(a){var c={},d={};this.getText=function(){return a.text};this.setSource=
function(a,k){c[a]=k};this.setTarget=function(a,c){d[a]=c};this.setDoubleAngle=function(b,c){a["showDoubleAngle"+b]=c};this.addItem=function(b){a.$addItem(b)};this.dropItem=function(b){a.$dropItem(b)};a.$addItem=function(b){var k={},h=[];e.forEach(d.data,function(b){k[b[a.value]]=!0});e.forEach(c.data,function(d,l){var f=d[a.value];d=e.copy(d);a:{if("all"==b){if(!k[f]){l=!0;break a}}else if(c.act[l]&&!k[f]){l=!0;break a}l=void 0}l&&h.push(d)});a.loading=!0;var f=a.addItem({items:h})||{};(f=f.then?
f:e.extend({},g)).then(function(a){e.forEach(h,function(a){d.data.push(a)})}).catch(function(a){}).finally(function(b){a.loading=!1})};a.$dropItem=function(b){var c=[],h=[];e.forEach(d.data,function(e,f){if("all"==b||d.act[f])c.push(d.data[f][a.value]),h.unshift(f)});a.loading=!0;var f=a.dropItem({values:c})||{};(f=f.then?f:e.extend({},g)).then(function(a){e.forEach(h,function(a){d.data.splice(a,1);d.act[a]=!1})}).catch(function(a){}).finally(function(b){a.loading=!1})}}]}}).directive("listGroupSource",
function(){return e.extend({},m,{link:function(a,c,d,b){b.setSource("act",a.active=[]);b.setDoubleAngle("Right",a.multiple);a.$watch("source",function(){e.forEach(a.source,function(b,c){a.active[c]=!1});b.setSource("data",a.source)});a.$dblSelected=function(c){e.forEach(a.source,function(b,c){a.active[c]=!1});a.active[c]=!0;b.addItem()};m.link(a,c,d,b)}})}).directive("listGroupTarget",function(){return e.extend({},m,{link:function(a,c,d,b){b.setTarget("act",a.active=[]);b.setDoubleAngle("Left",a.multiple);
a.$watch("source",function(){b.setTarget("data",a.source)});a.$dblSelected=function(c){e.forEach(a.source,function(b,c){a.active[c]=!1});a.active[c]=!0;b.dropItem()};m.link(a,c,d,b)}})}).run(["$templateCache",function(a){a.put("list-row-group.html",'<div class="list-row-group">\n  <div class="col-xs-5">\n      <div ng-transclude="source"></div>\n  </div>\n  <div class="col-xs-2">\n    <div ng-transclude="extra"></div>\n    <div class="form-group">\n      <div class="btn-group-vertical btn-block" role="group">\n        <button type="button" class="btn btn-primary" ng-if="showDoubleAngleRight" ng-click="$addItem(\'all\')" ng-disabled="loading"><i class="icon-double-angle-right"></i></button>\n        <button type="button" class="btn btn-info" ng-click="$addItem()" ng-disabled="loading"><i class="icon-angle-right"></i></button>\n        <button type="button" class="btn btn-info" ng-click="$dropItem()" ng-disabled="loading"><i class="icon-angle-left"></i></button>\n        <button type="button" class="btn btn-primary" ng-if="showDoubleAngleLeft" ng-click="$dropItem(\'all\')" ng-disabled="loading"><i class="icon-double-angle-left"></i></button>\n      </div>\n    </div>\n  </div>\n  <div class="col-xs-5">\n      <div ng-transclude="target"></div>\n  </div>\n</div>\n')}]).run(["$templateCache",
function(a){a.put("list-group-item.html",'    <div class="list-group-wrapper">\n      <div class="list-group-header">{{header}}</div>\n        <div class="list-group">\n          <a href="" class="list-group-item" ng-class="{\'list-group-item-warning\':active[$index]}" ng-click="$selected($index)" ng-Dblclick="$dblSelected($index)" ng-repeat="item in source">{{item[text]}}</a>\n      </div>\n    </div>\n')}])})(window,window.angular);